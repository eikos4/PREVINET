# Configuración para LiteSpeed / Apache para SPA (Vite)
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # Asegurar que se sirvan los tipos MIME correctos
  AddType application/manifest+json .webmanifest
  AddType application/javascript .js
  AddType image/png .png
  AddType image/gif .gif
  AddType image/svg+xml .svg

  # Si la petición es para la raíz, servir dist/index.html
  RewriteRule ^$ dist/index.html [L]

  # Si el archivo NO existe en la carpeta raíz...
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  
  # Y el archivo SI existe dentro de /dist/
  RewriteCond %{DOCUMENT_ROOT}/dist/$1 -f [OR]
  RewriteCond %{DOCUMENT_ROOT}/dist/$1 -d
  RewriteRule ^(.*)$ dist/$1 [L]
  
  # Fallback para rutas de la SPA (React Router): todo a dist/index.html
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ dist/index.html [L]
</IfModule>
